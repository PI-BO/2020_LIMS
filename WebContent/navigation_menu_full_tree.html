<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <title>JSTree</title>
    <style>
        .demo {
            overflow: auto;
            border: 1px solid silver;
            min-height: 100px;
            text-align: initial;
        }
    </style>
    <link rel="stylesheet" href="jstree/style.min.css"/>
    <script src="jquery-3.5.1.js"></script>
    <script src="jstree/jstree.min.js"></script>
</head>

<body>

<button id="evts_button" style="margin:0em auto 1em auto; display:block; padding:4px; border-radius:4px;">
    select node Projekt A
</button>

<input type="text" id="search" value="" class="input"
       style="margin:0em auto 1em auto; display:block; padding:4px; border-radius:4px; border:1px solid silver;">
<div id="lazy" class="demo"></div>

<script>
    // interaction and events
    $('#evts_button').on("click", function () {
        var instance = $('#lazy').jstree(true);
        instance.deselect_all();
        instance.select_node('projekte:A');
    });

    $('#lazy').jstree({
        core: {
            data: {
                url: function (node) {
                    console.log("call: " + node.id)
                    return 'jstree/nodes?id=' + node.id;
                }
            }
        },
        search: {
            // search config
            show_only_matches: true,
            ajax: {
                url: "jstree/search"
            }
        },
        plugins: ['search'],
    }).on("select_node.jstree", function (e, data) {
        alert('The selected node is: ' + data.node.text);
    });

    var to = false;
    $('#search').keyup(function () {
        if (to) {
            clearTimeout(to);
        }
        to = setTimeout(function () {
            var v = $('#search').val();
            $('#lazy').jstree(true).search(v);
        }, 250);
    });
</script>
</body>
</html>
